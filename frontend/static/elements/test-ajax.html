<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="elements.html">
<dom-module id="test-ajax">

  <style>
    .countries{
      display: inline-block;
      text-align: center;
      margin: 5px;
      background-color: lightgrey;
    }
  </style>
  
  <template>
    <iron-ajax auto url="../countries.json" handle-as="json" last-response="{{countries}}"></iron-ajax>
    <h1>{{title}}</h1>
    <template is="dom-repeat" items="{{countries}}">
      <a href="">
      <div  class="countries">
        <img src="{{item.urlFlag}}">
        <p>{{item.label}}</p>
      </div>
    </template>

  </template>

  <script>
    // element registration
    Polymer({
      is: "test-ajax",
      ready: function(){
        this.title = "Countries";  
        console.log(this.countries);
      }
      
    });


    
  </script>

</dom-module>